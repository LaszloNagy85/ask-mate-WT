{% extends "layout.html" %}
{% block title %}Main page{% endblock%}
{% block content %}
    <input id="ask-button" type="button" onclick="window.location.href='/add-question'" value="Ask a question"/>
    <input id="list-all-button" type="button" onclick="window.location.href='/list'" value="List all questions"/>
    <form id="sort-form" action={{ "/" if limit_it else "/list" }} method="GET">
        <label for="sort">Sort questions by:</label>
        <select class="drop-downs" id="sort" name="sort">
            {% for i in range(4) %}
                <option {% if sort_by == sort_options[i] %} selected {% endif %}
                    value="{{ sort_options[i] }}"> {{ sort_titles[i] }} </option>
            {% endfor %}
        </select>
        <select class="drop-downs" id="order" name="order">
            {% for direction in ['desc', 'asc'] %}
                <option {% if direction == order_direction %} selected {% endif %}
                    value="{{ direction }}">
                    {% if direction == 'desc' %}descending{% else %}ascending{% endif %}
                </option>
            {% endfor %}
        </select>
        <button type="submit">Sort it!</button>

    </form>

    <form method="POST" action="/list">
    <label for="site-search"></label>
    <input type="search" id="site-search" name="search"/><br>
    <button type="submit">Search</button>
    </form>


    <ul>
    {% for question in questions %}
        <p><li onclick="location.href='/question/view_count/{{ question["id"] }}'"> {{ question["title"] }} </li></p>
    {% endfor %}
    </ul>
{% endblock %}